{
  "id": "notecard-character",
  "title": "Notecard Character (5 Ã— 7)",
  "description": "Two-sided character notecard layout inspired by the Codex character notecard.",
  "type": "card",
  "formats": [
    { "id": "letter", "label": "US Letter", "sizeId": "letter", "orientations": ["portrait", "landscape"], "defaultOrientation": "portrait" }
  ],
  "supportedSources": ["ddb", "json", "manual"],
  "card": { "width": 5, "height": 7, "gutter": 0, "safeInset": 0.2, "columns": 1, "rows": 1 },
  "pages": {
    "front": {
      "repeat": "@characterNotecardCards",
      "layout": {
        "type": "stack",
        "gap": 3,
        "children": [
          {
            "type": "row",
            "gap": 2,
            "columns": [
              {
                "node": {
                  "type": "stack",
                  "gap": 1,
                  "children": [
                    { "type": "field", "component": "heading", "level": "h1", "text": "@name" },
                    { "type": "field", "component": "text", "text": "@identityLine", "textSize": "sm" }
                  ]
                }
              },
              {
                "node": {
                  "type": "stack",
                  "className": "text-end",
                  "gap": 1,
                  "children": [
                    { "type": "field", "component": "heading", "level": "h3", "text": "@classSummary" },
                    {
                      "type": "field",
                      "component": "text",
                      "text": "@personalityTraits",
                      "textSize": "sm",
                      "textStyles": { "italic": true }
                    }
                  ]
                }
              }
            ]
          },
          {
            "type": "row",
            "templateColumns": "1fr 1fr 1fr",
            "gap": 2,
            "columns": [
              {
                "node": {
                  "type": "field",
                  "component": "list",
                  "itemsBind": "@abilities",
                  "listTag": "div",
                  "itemTag": "div",
                  "className": "ability-scores",
                  "itemLayout": {
                    "type": "stack",
                    "classNameBind": "@abilityBlockClass",
                    "gap": 1,
                    "children": [
                      { "type": "field", "component": "text", "text": "@name", "textStyle": "span", "className": "name" },
                      { "type": "field", "component": "text", "text": "@modifier", "textStyle": "span", "className": "modifier" },
                      { "type": "field", "component": "text", "text": "@score", "textStyle": "span", "className": "score" }
                    ]
                  }
                }
              },
              {
                "node": {
                  "type": "stack",
                  "gap": 2,
                  "children": [
                    { "type": "field", "component": "text", "text": "Saving Throws", "className": "section" },
                    {
                      "type": "field",
                      "component": "list",
                      "itemsBind": "@saves",
                      "className": "item-list",
                      "itemClassNameBind": "@itemClass",
                      "itemLayout": {
                        "type": "row",
                        "className": "skill-row",
                        "templateColumns": "auto auto 1fr",
                        "gap": 2,
                        "columns": [
                          { "node": { "type": "field", "component": "text", "text": "", "textStyle": "span", "classNameBind": "@circleClass" } },
                          { "node": { "type": "field", "component": "text", "text": "@modifier", "textStyle": "span", "className": "modifier" } },
                          { "node": { "type": "field", "component": "text", "text": "@name", "textStyle": "span", "className": "name" } }
                        ]
                      }
                    },
                    { "type": "field", "component": "text", "text": "Skills", "className": "section" },
                    {
                      "type": "field",
                      "component": "list",
                      "itemsBind": "@skills",
                      "className": "item-list",
                      "itemClassNameBind": "@itemClass",
                      "itemLayout": {
                        "type": "row",
                        "className": "skill-row",
                        "templateColumns": "auto auto 1fr",
                        "gap": 2,
                        "columns": [
                          { "node": { "type": "field", "component": "text", "text": "", "textStyle": "span", "classNameBind": "@circleClass" } },
                          { "node": { "type": "field", "component": "text", "text": "@modifier", "textStyle": "span", "className": "modifier" } },
                          { "node": { "type": "field", "component": "text", "text": "@name", "textStyle": "span", "className": "name" } }
                        ]
                      }
                    }
                  ]
                }
              },
              {
                "node": {
                  "type": "stack",
                  "gap": 2,
                  "children": [
                    { "type": "field", "component": "text", "text": "Hit Points", "className": "section" },
                    { "type": "field", "component": "text", "text": "@hpLine", "className": "larger" },
                    { "type": "field", "component": "text", "text": "@hitDiceLine", "textSize": "sm" },
                    { "type": "field", "component": "text", "text": "Proficiency Bonus", "className": "section" },
                    { "type": "field", "component": "text", "text": "@proficiencyBonus" },
                    { "type": "field", "component": "text", "text": "Initiative", "className": "section" },
                    {
                      "type": "row",
                      "gap": 1,
                      "templateColumns": "auto auto",
                      "columns": [
                        { "node": { "type": "field", "component": "text", "text": "@initiative.value", "textStyle": "span" } },
                        { "node": { "type": "field", "component": "text", "text": "", "textStyle": "span", "classNameBind": "@initiative.icon" } }
                      ]
                    },
                    { "type": "field", "component": "text", "text": "Armor Class", "className": "section" },
                    { "type": "field", "component": "text", "text": "@ac.value" },
                    { "type": "field", "component": "text", "text": "Speed", "className": "section" },
                    { "type": "field", "component": "text", "text": "@speedLine" },
                    { "type": "field", "component": "text", "text": "Proficiencies", "className": "section" },
                    { "type": "field", "component": "text", "text": "@proficiencyLines.armor", "textSize": "sm" },
                    { "type": "field", "component": "text", "text": "@proficiencyLines.weapons", "textSize": "sm" },
                    { "type": "field", "component": "text", "text": "@proficiencyLines.tools", "textSize": "sm" },
                    { "type": "field", "component": "text", "text": "@proficiencyLines.languages", "textSize": "sm" },
                    { "type": "field", "component": "text", "text": "Senses", "className": "section" },
                    { "type": "field", "component": "text", "text": "@passiveLines.perception" },
                    { "type": "field", "component": "text", "text": "@passiveLines.investigation" },
                    { "type": "field", "component": "text", "text": "@passiveLines.insight" },
                    {
                      "type": "field",
                      "component": "list",
                      "itemsBind": "@senses",
                      "className": "item-list",
                      "itemLayout": {
                        "type": "row",
                        "templateColumns": "auto 1fr",
                        "gap": 1,
                        "columns": [
                          { "node": { "type": "field", "component": "text", "text": "@name", "textStyle": "span" } },
                          { "node": { "type": "field", "component": "text", "text": "@range", "textStyle": "span" } }
                        ]
                      }
                    },
                    { "type": "field", "component": "text", "text": "Defenses", "className": "section" },
                    {
                      "type": "field",
                      "component": "list",
                      "itemsBind": "@defenses",
                      "className": "item-list",
                      "itemLayout": {
                        "type": "row",
                        "templateColumns": "auto 1fr",
                        "gap": 1,
                        "columns": [
                          { "node": { "type": "field", "component": "text", "text": "", "textStyle": "span", "classNameBind": "@iconClass" } },
                          { "node": { "type": "field", "component": "text", "text": "@name", "textStyle": "span" } }
                        ]
                      }
                    }
                  ]
                }
              }
            ]
          },
          {
            "type": "stack",
            "gap": 1,
            "children": [
              { "type": "field", "component": "text", "text": "@alignmentLine", "textSize": "sm" },
              { "type": "field", "component": "text", "text": "@detailsLine", "textSize": "sm" },
              { "type": "field", "component": "text", "text": "@appearanceLine", "textSize": "sm" }
            ]
          }
        ]
      }
    },
    "back": {
      "repeat": "@characterNotecardCards",
      "layout": {
        "type": "stack",
        "gap": 3,
        "children": [
          {
            "type": "row",
            "gap": 2,
            "columns": [
              { "node": { "type": "field", "component": "text", "text": "Attacks", "className": "heading" } },
              {
                "node": {
                  "type": "field",
                  "component": "text",
                  "text": "@attacksMetaLine",
                  "className": "text-end",
                  "textSize": "xs"
                }
              }
            ]
          },
          { "type": "field", "component": "text", "text": "@limitedUsesLine", "className": "text-end", "textSize": "xs" },
          {
            "type": "field",
            "component": "table",
            "rowsBind": "@attacks",
            "className": "press-table",
            "columns": [
              { "header": "Attack Name", "bind": "@name", "width": "30%" },
              { "header": "To Hit", "bind": "@toHit", "width": "10%" },
              { "header": "Damage", "bind": "@damage", "width": "15%" },
              { "header": "Range", "bind": "@range", "width": "15%" },
              { "header": "Notes", "bind": "@notes", "width": "30%" }
            ]
          },
          {
            "type": "row",
            "gap": 2,
            "columns": [
              { "node": { "type": "field", "component": "text", "text": "@spellsHeading", "className": "heading" } },
              {
                "node": {
                  "type": "field",
                  "component": "text",
                  "text": "@spellsMetaLine",
                  "className": "text-end",
                  "textSize": "xs"
                }
              }
            ]
          },
          { "type": "field", "component": "text", "text": "Cantrips", "className": "section-short" },
          {
            "type": "field",
            "component": "table",
            "rowsBind": "@spells.cantrips",
            "className": "press-table",
            "columns": [
              { "header": "Spell Name", "bind": "@name", "width": "35%" },
              { "header": "Hit/DC", "bind": "@hit", "width": "15%" },
              { "header": "Effect", "bind": "@effect", "width": "15%" },
              { "header": "Time", "bind": "@time", "width": "10%" },
              { "header": "Range", "bind": "@range", "width": "10%" },
              { "header": "Notes", "bind": "@notes", "width": "15%" }
            ]
          },
          { "type": "field", "component": "text", "text": "1st Level", "className": "section-short" },
          {
            "type": "field",
            "component": "table",
            "rowsBind": "@spells.level1",
            "className": "press-table",
            "columns": [
              { "header": "Spell Name", "bind": "@name", "width": "35%" },
              { "header": "Hit/DC", "bind": "@hit", "width": "15%" },
              { "header": "Effect", "bind": "@effect", "width": "15%" },
              { "header": "Time", "bind": "@time", "width": "10%" },
              { "header": "Range", "bind": "@range", "width": "10%" },
              { "header": "Notes", "bind": "@notes", "width": "15%" }
            ]
          },
          { "type": "field", "component": "text", "text": "2nd Level", "className": "section-short" },
          {
            "type": "field",
            "component": "table",
            "rowsBind": "@spells.level2",
            "className": "press-table",
            "columns": [
              { "header": "Spell Name", "bind": "@name", "width": "35%" },
              { "header": "Hit/DC", "bind": "@hit", "width": "15%" },
              { "header": "Effect", "bind": "@effect", "width": "15%" },
              { "header": "Time", "bind": "@time", "width": "10%" },
              { "header": "Range", "bind": "@range", "width": "10%" },
              { "header": "Notes", "bind": "@notes", "width": "15%" }
            ]
          },
          { "type": "field", "component": "text", "text": "Features", "className": "heading" },
          {
            "type": "field",
            "component": "list",
            "itemsBind": "@features",
            "listTag": "div",
            "itemTag": "div",
            "className": "d-flex flex-column gap-2",
            "itemLayout": {
              "type": "stack",
              "gap": 1,
              "children": [
                { "type": "field", "component": "text", "text": "@name", "className": "section-short" },
                { "type": "field", "component": "text", "text": "@description" }
              ]
            }
          }
        ]
      }
    }
  }
}
